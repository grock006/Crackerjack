<div ng-show="reviewresults.length > 0 && imageresults.length > 0" ng-animate="'animate'"> 
<div class="container-fluid">
	<div class="row">

		<div class="col-md-5">       
		<div class="row" style="margin-bottom: -25px">	
			<div class="col-md-6">

			<ui-gmap-google-map center='map.center' zoom='map.zoom'>
				 <ui-gmap-marker coords="marker.coords" idkey="marker.id">
				 </ui-gmap-marker>
			</ui-gmap-google-map>
			</div>
			<div class="col-md-6">
				<img src="{{main_image_url}}" style="width:100%; margin-top:15px;">
			</div>
		</div>

		<br>
		<br>

		<div class="row">
			<div class="col-md-12">
				<div ng-repeat="x in imageresults" style="display:inline-block" ng-animate="'animate'">
				<a href="{{x.link}}" target="_blank" ng-mouseover="makeLarge(x.images.low_resolution.url)"><img src="{{x.images.low_resolution.url }}" class="instagram-small"></a>
				</div>
			</div>
		</div>


		</div>

		<div class="col-md-7"> 

			<div class="row">    
				<div class="col-md-5">
					<h3 class="bold">{{details.name | uppercase}}<br>
						<span class="light">{{yelpresults[0]["hash"].location.neighborhoods[0]}}</span><h3>
						<span class="light small-font">{{yelpresults[0]["hash"].categories[0][0]}}</span>
					<address>
						{{details.address_components[0].long_name}} {{details.address_components[1].long_name}}<br>
						{{details.address_components[2].long_name}}, {{details.address_components[3].short_name}} {{details.address_components[5].long_name}}<br>
						<span class="bold">{{details.formatted_phone_number}}</span><br>						
					    <a href="{{details.website}}">{{details.name}} Website</a>
					</address>
					<div class="small-font light">
					{{details.opening_hours.weekday_text[0]}}<br>
						{{details.opening_hours.weekday_text[1]}}<br>
							{{details.opening_hours.weekday_text[2]}}<br>
								{{details.opening_hours.weekday_text[3]}}<br>
									{{details.opening_hours.weekday_text[4]}}<br>
										{{details.opening_hours.weekday_text[5]}}<br>
											{{details.opening_hours.weekday_text[6]}}<br>
										</div>
										<br>
										<!-- <p>Keywords:</p> -->
				 </div>

				 <div class="col-md-7">
				 	<div class="review-box-container">
				 	<div class="review-box">
				 	<h3><span class="bold-red">{{reviewresults.length}}</span> Reviews Counted</h3>
				 		<p>Positive: {{positiveReviews}}  Negative: {{negativeReviews}}</p>
				 		<p class="smaller-font">Keywords: <em><span ng-repeat="x in main_keywords" class="smaller-font">{{x}}, </span></em></p>
						<h3>Critic Rating: <span class="bold-red">{{rating | number:1}}</span>/5  <i class="fa fa-question-circle" data-toggle="tooltip" data-placement="top" title="Crackerjackometer adds the total number of professional critic reviews gathered by our search. It divides that total by the number of reviews with scores over 50 points that have been deemed positive by the Alchemy Sentiment Analysis API."></i></h3>

						<span ng-show="rating > 3">
							<h4 class="bold-red">
								Crackerjack Approved! <span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-thumbs-up fa-stack-1x fa-inverse"></i>
							</span>
							</h4>
					    </span>

					    <span ng-show="rating < 3">
							<h4> Worse Than Dog Food!
							<span class="fa-stack fa-lg">
							  <i class="fa fa-circle fa-stack-2x"></i>
							  <i class="fa fa-thumbs-down fa-stack-1x fa-inverse"></i>
							</span>
					    	</h4>
					    </span>

					
						<h4><i class="fa fa-yelp"></i> Yelp Rating: <span class="bold-red">{{yelpresults[0]["hash"].rating}}</span>/5</h4>
						<h4><i class="fa fa-google"></i> Google Rating: <span class="bold-red">{{details.rating}}</span>/5</h4>
						<h4>User Rating: </h4>
						
				
					
					</div>
					</div>
				 
				 </div>
			</div>
		</div>

	</div>

	<br>

	<div class="row">
		
		<div class="col-md-5">  
			<!-- 	<div ng-repeat="x in imageresults" style="display:inline-block" ng-animate="'animate'">
				<a href="{{x.link}}" target="_blank" ng-mouseover="makeLarge(x.images.low_resolution.url)" ng-mouseleave="makeSmall()"><img src="{{x.images.low_resolution.url }}" ng-class="image"></a>
				</div> -->
		</div>	


		<div class="col-md-7"> 

				<div role="tabpanel">

					  <!-- Nav tabs -->
					 <ul class="nav nav-tabs" role="tablist">
					  <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab"><h4 class="bold-red">Critic Reviews</h4></a></li>
					    <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><h4 class="bold-red">User Reviews</h4></a></li>
					    <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"><h4 class="bold-red">Google Reviews</h4></a></li>
					     <li role="presentation"><a href="#add" aria-controls="add" role="tab" data-toggle="tab"><h4 class="bold-red">+ Add Review</h4></a></li>
					 </ul>

					  <!-- Tab panes -->
					  <div class="tab-content">
					    <div role="tabpanel" class="tab-pane fade in active" id="home">

					    	<div class="row">
					    		<div class="col-md-1"></div>
					    		<div class="col-md-10">
					    			<br>
					    			<br>
					    		<div ng-repeat="x in reviewresults track by $index">
					    			<div class="critic-box">	
									<h2 class="bold-red">
									<span ng-show="x.docSentiment['type'] == 'positive' ">	
										<span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-thumbs-up fa-stack-1x fa-inverse"></i>
										</span>
									</span>

									<span ng-show="x.docSentiment['type'] == 'negative' ">	
										<span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-thumbs-down fa-stack-1x fa-inverse"></i>
										</span>
									</span>
									{{x.domain.replace("www.", "").replace(".com", "") | uppercase }} 
									</h2>	
									<h2><em>{{x.title}}</em></h2>
									<p>{{x.date_published | date: "fullDate" }}</p>
									<p>{{x.docSentiment["contentExcerpt"]}}<p>
									<a href="{{x.url}}" target="_blank">Full Review</a><br>
									<em>{{x.author}}</em>
										<div ng-show="x.docSentiment['score'] != null">
											<span class="bold">Score:</span> {{x.docSentiment["score"] | number:0}} {{x.docSentiment["type"] | uppercase}}<br>
										</div>
										<p><span class="bold">Keywords:</span><em> {{x.docSentiment["keywords"][1].text}}, {{x.docSentiment["keywords"][2].text}}, {{x.docSentiment["keywords"][3].text}}, {{x.docSentiment["keywords"][4].text}}, {{x.docSentiment["keywords"][5].text}}, {{x.docSentiment["keywords"][6].text}}</em></p>
								</div>
									<br>
									<br>
								</div>

					

							</div>
							<div class="col-md-1"></div>
						</div>


					    </div>
					    <div role="tabpanel" class="tab-pane fade" id="profile">
					    	<br>
					    	<br>
					    	<div ng-controller="reviewController">
					    	<div class="row">
					    	<div class="col-md-1"></div>	
					    	    <div class="col-md-10">
							    	<div ng-repeat="x in userReviews">
							    		<div ng-show="x.restaurant == details.name">
								    		<h3 class"bold">{{x.title}} by <span class="light">{{x.name}}</span></h3>
								    		<p>{{x.content}}</p>
								    		<p>User Score {{x.score}}</p>
								    		<br>
							    		</div>
							    	</div>
							    </div>	
							<div class="col-md-1"></div>						    	
					    	</div>

					    	</div>          					    	

					    </div>
					    <div role="tabpanel" class="tab-pane fade" id="messages">
					    	<br>
					    	<br>
					       <div class="row">
					    	<div class="col-md-1"></div>	
					    	    <div class="col-md-10">	    	
							    	<p><em><span class="bold">{{google.reviews[0].author_name}}</span></em><br>
							    	{{google.reviews[0].text}}<br>
							    	<span class="bold-red">Rating: {{google.reviews[0].rating}}</span></p>
							    	<br>
							    	<p><em><span class="bold">{{google.reviews[1].author_name}}</span></em><br>
							    	{{google.reviews[1].text}}<br>
							    	<span class="bold-red">Rating: {{google.reviews[1].rating}}</span></p>
							    	<br>
							    	<p><em><span class="bold">{{google.reviews[2].author_name}}</span></em><br>
							    	{{google.reviews[2].text}}<br>
							    	<span class="bold-red">Rating: {{google.reviews[2].rating}}</span></p>
							    	<br>
							    	<p><em><span class="bold">{{google.reviews[3].author_name}}</span></em><br>
							    	{{google.reviews[3].text}}<br>
							    	<span class="bold-red">Rating: {{google.reviews[3].rating}}</span></p>
							    </div>	
							<div class="col-md-1"></div>						    	
					    	</div>

					    </div>

					     <div role="tabpanel" class="tab-pane fade" id="add">
					     	<div ng-controller="reviewController">
						                  <h1>Submit Your Own Review:</h1>
						                  <h3 class="bold-red">{{submitMessage}}</h3>
						                  <form ng-submit="createReview()">
						     				   <!-- Add Restaurant -->
						     				<input type="text" ng-model="newReview.restaurant" class="form-control" name="{{details.name}}" ng-value="details.name" ng-model="details.name" style="display:none">
						                  	  <input type="text" ng-model="newReview.name" class="form-control" placeholder="Name"><br>
						                       <input type="text" ng-model="newReview.title"class="form-control" placeholder="Title"><br>
						                       <textarea type="text" ng-model="newReview.content" class="form-control" placeholder="Content"></textarea>
						                       	<br>
						                       <input type="text" ng-model="newReview.score" class="form-control" rows="3" placeholder="Score"><br>
						                      <button class="btn btn-default">Submit</button>
						                   </form>
						            </div>
					     </div>
					  </div>

					</div>
								
	     </div>
	<!-- End Row -->
	</div>

<!-- End Container -->
</div>
<footer></footer>
</div>

