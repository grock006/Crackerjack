<div ng-show="reviewresults.length > 0 && imageresults.length > 0" ng-animate="'animate'"> 
<div class="container-fluid">
	<div class="row">

		<div class="col-md-6">       
			<ui-gmap-google-map center='map.center' zoom='map.zoom'>
				 <ui-gmap-marker coords="marker.coords" idkey="marker.id">
				 </ui-gmap-marker>
			</ui-gmap-google-map>
		</div>

		<div class="col-md-6"> 

			<div class="row">    
				<div class="col-md-6">
					<h3 class="bold">{{details.name | uppercase}} - <span class="light">{{yelpresults[0]["hash"].location.neighborhoods[0]}}</span><h3>
						<span class="light small-font">{{yelpresults[0]["hash"].categories[0][0]}}</span>
					<address>
						{{details.address_components[0].long_name}} {{details.address_components[1].long_name}}<br>
						{{details.address_components[2].long_name}}, {{details.address_components[3].short_name}} {{details.address_components[5].long_name}}<br>
						<span class="bold">{{details.formatted_phone_number}}</span><br>						
					    <a href="{{details.website}}">Website</a>
					</address>
					<div class="small-font">
					{{details.opening_hours.weekday_text[0]}}<br>
						{{details.opening_hours.weekday_text[1]}}<br>
							{{details.opening_hours.weekday_text[2]}}<br>
								{{details.opening_hours.weekday_text[3]}}<br>
									{{details.opening_hours.weekday_text[4]}}<br>
										{{details.opening_hours.weekday_text[5]}}<br>
											{{details.opening_hours.weekday_text[6]}}<br>
										</div>
				 </div>
				 <div class="col-md-6">
				 	<div class="review-box">
				 	<h3><span class="bold-red">{{reviewresults.length}}</span> Reviews</h3>
						<h3>Critic Rating: <span class="bold-red">{{totalAverage}}</span></h3>
						<h3>Yelp Rating: <span class="bold-red">{{yelpresults[0]["hash"].rating}}</span></h3>
						<h3>Google Places Rating: <span class="bold-red">{{details.rating}}</span></h3>

						<div ng-show="totalAverage > 85">
							<span class="fa-stack fa-lg">
							  <i class="fa fa-circle fa-stack-2x"></i>
							  <i class="fa fa-thumbs-up fa-stack-1x fa-inverse"></i>
							</span>
					    </div>
					    <div ng-show="totalAverage < 85">
							<span class="fa-stack fa-lg">
							  <i class="fa fa-circle fa-stack-2x"></i>
							  <i class="fa fa-thumbs-down fa-stack-1x fa-inverse"></i>
							</span>
					    </div>
					
					</div>
				 </div>
			</div>
		</div>

	</div>

	<br>
	<hr>
	<br>

	<div class="row">
		
		<div class="col-md-6">  
			<div class="instagram-border">
				<div ng-repeat="x in imageresults" style="width:300px;display:inline-block" ng-animate="'animate'">
				<a href="{{x.link}}" target="_blank"><img src="{{x.images.low_resolution.url }}"></a>
				</div>
			</div>
		</div>	


		<div class="col-md-6"> 

				<div role="tabpanel">

					  <!-- Nav tabs -->
					 <ul class="nav nav-tabs" role="tablist">
					  <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab"><h3 class="bold-red">Critic Reviews</h3></a></li>
					    <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><h3 class="bold-red">User Reviews</h3></a></li>
					    <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"><h3 class="bold-red">Google Reviews</h3></a></li>
					     <li role="presentation"><a href="#add" aria-controls="add" role="tab" data-toggle="tab"><h3 class="bold-red">+</h3></a></li>
					 </ul>

					  <!-- Tab panes -->
					  <div class="tab-content">
					    <div role="tabpanel" class="tab-pane fade in active" id="home">
					    		<div ng-repeat="x in reviewresults track by $index">
									<h2 class="bold">{{x.domain.replace("www.", "").replace(".com", "") | uppercase }}</h2>	
									<h2><em>{{x.title}}</em></h2>
									<p>{{x.date_published | date: "fullDate" }}</p>
									<p>{{x.docSentiment["contentExcerpt"]}}<p>
									<a href="{{x.url}}" target="_blank">Full Review</a><br>
									<em>{{x.author}}</em>
										<div ng-show="x.docSentiment['score'] != null">
											<span class="bold">Score:</span> {{x.docSentiment["score"] | number:0}} {{x.docSentiment["type"] | uppercase}}<br>
										</div>
										<p><span class="bold">Keywords:</span> {{x.docSentiment["keywords"][1].text}}, {{x.docSentiment["keywords"][2].text}}, {{x.docSentiment["keywords"][3].text}}, {{x.docSentiment["keywords"][4].text}}, {{x.docSentiment["keywords"][5].text}}, {{x.docSentiment["keywords"][6].text}}</p>
									<br>
									<br>
								</div>
					    </div>
					    <div role="tabpanel" class="tab-pane fade" id="profile">
					    	<div ng-repeat="x in userReviews">
					    		{{x.content}}
					    	</div>
					    	          
					    	

					    </div>
					    <div role="tabpanel" class="tab-pane fade" id="messages">
					    	<br>
					    	<p>	{{google.reviews[0].author_name}}<br>
					    	{{google.reviews[0].text}}<br>
					    	Rating: {{google.reviews[0].rating}}</p>
					    	<br>
					    	<p>{{google.reviews[1].author_name}}<br>
					    	{{google.reviews[1].text}}<br>
					    	Rating: {{google.reviews[1].rating}}</p>
					    	<br>
					    	<p>{{google.reviews[2].author_name}}<br>
					    	{{google.reviews[2].text}}<br>
					    	Rating: {{google.reviews[2].rating}}</p>
					    	<br>
					    	<p>{{google.reviews[3].author_name}}<br>
					    	{{google.reviews[3].text}}<br>
					    	Rating: {{google.reviews[3].rating}}</p>
					    </div>

					     <div role="tabpanel" class="tab-pane fade" id="add">
					     	<div ng-controller="reviewController">
						                  <h1>Submit Your Own Review:</h1>
						                  <form ng-submit="createReview()">
						     				   <!-- Add Restaurant -->
						     				 <input type="text" ng-model="newReview.restaurant" class="form-control" placeholder="{{details.name}}" value="{{details.name}}"><br>
						                  	  <input type="text" ng-model="newReview.name" class="form-control" placeholder="Name"><br>
						                       <input type="text" ng-model="newReview.title"class="form-control" placeholder="Title"><br>
						                       <input type="text" ng-model="newReview.content" class="form-control" placeholder="Content"><br>
						                       <input type="text" ng-model="newReview.score" class="form-control" placeholder="Score"><br>
						                      <button class="btn btn-default">Submit</button>
						                   </form>
						            </div>
					     </div>
					  </div>

					</div>
								
	     </div>
	<!-- End Row -->
	</div>

<!-- End Container -->
</div>
</div>
